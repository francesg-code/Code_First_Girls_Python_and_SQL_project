The stored functions and procedures referenced here are provided in the functions_and_procedures.sql file.

# Query to run the 'recipeLevel' stored function. 

SELECT
	recipe_id,
    recipeLevel(total_ingredients)
FROM
	numingredients
ORDER BY
	recipe_ID;
  
---
  
# Query to run the 'selectAllRecipes' stored procedure. The below selects recipes containing banana.

CALL selectAllRecipes('banana');

---

# Query to select all vegan recipes.

SELECT recipe_id
FROM recipe_dietary_req
WHERE dietary_requirement_id =
(SELECT dietary_requirement_id
FROM dietary_requirements
WHERE dietary_requirement = 'vegan');

---

# Create view to show the dietary requirements associated with a particular recipe. The below pulls results for recipe_id 175.

CREATE VIEW macerated_strawberries_dietary_requirements AS
SELECT recipe_dietary_req.recipe_id, recipes.recipe_label, recipes.recipe_url, dietary_requirements.dietary_requirement
FROM recipe_dietary_req
INNER JOIN dietary_requirements ON (recipe_dietary_req.dietary_requirement_id = dietary_requirements.dietary_requirement_id) AND (recipe_dietary_req.recipe_id = 175)
INNER JOIN recipes ON (recipe_dietary_req.recipe_id = recipes.recipe_id) AND (recipe_dietary_req.recipe_id = 175)

---

# Query to select recipes with a certain number of ingredients. The below selects recipes with three or fewer ingredients.

SELECT recipe_id
FROM recipe_ingredients
GROUP BY(recipe_id)
HAVING COUNT(ingredient_id) <=3;

---

